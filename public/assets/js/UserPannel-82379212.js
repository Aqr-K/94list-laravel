import{b as le,k as Me,T as Re,u as se,E as he,_ as Le,a as Ne,w as Ae,i as je,c as ie,d as ae,e as Ze,f as ze,g as L,h as Ye,j as Ge}from"./request-ca157d2b.js";import{c as qe,g as He,v as Je,E as We,a as Ke}from"./el-table-column-3dd0395c.js";import"./el-tag-cfa040bb.js";import{P as M,i as _e,a as $e,E as Xe}from"./el-text-ce9fa79d.js";import{E as et,a as tt}from"./el-form-item-06a19c98.js";import{E as nt}from"./el-input-77353838.js";import{E as rt}from"./el-overlay-4b8e1b8f.js";import{d as Y,u as ot,r as R,c as j,o as B,a as x,w as v,b as Ee,e as ee,n as P,f as o,g as Fe,h as V,i as z,j as H,k as T,t as N,F as xe,l as g,v as at,T as it,m as lt,p as st,q as te,s as De,x as ut,y as ct,z as ft,A as dt,B as pt,C as gt,D as Ie,E as Be,G as mt}from"./index-fa133cea.js";import{d as yt,a as vt,b as ht,c as Et}from"./user-18e846c2.js";import{_ as At}from"./_plugin-vue_export-helper-c27b6911.js";import"./focus-trap-870fae13.js";const wt=["light","dark"],Ct=le({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:Me(Re),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:wt,default:"light"}}),bt={close:m=>m instanceof MouseEvent},St=Y({name:"ElAlert"}),kt=Y({...St,props:Ct,emits:bt,setup(m,{emit:Q}){const h=m,{Close:C}=Ne,r=ot(),s=se("alert"),a=R(!0),n=j(()=>Re[h.type]),c=j(()=>[s.e("icon"),{[s.is("big")]:!!h.description||!!r.default}]),p=j(()=>({[s.is("bold")]:h.description||r.default})),d=i=>{a.value=!1,Q("close",i)};return(i,E)=>(B(),x(it,{name:o(s).b("fade"),persisted:""},{default:v(()=>[Ee(ee("div",{class:P([o(s).b(),o(s).m(i.type),o(s).is("center",i.center),o(s).is(i.effect)]),role:"alert"},[i.showIcon&&o(n)?(B(),x(o(he),{key:0,class:P(o(c))},{default:v(()=>[(B(),x(Fe(o(n))))]),_:1},8,["class"])):V("v-if",!0),ee("div",{class:P(o(s).e("content"))},[i.title||i.$slots.title?(B(),z("span",{key:0,class:P([o(s).e("title"),o(p)])},[H(i.$slots,"title",{},()=>[T(N(i.title),1)])],2)):V("v-if",!0),i.$slots.default||i.description?(B(),z("p",{key:1,class:P(o(s).e("description"))},[H(i.$slots,"default",{},()=>[T(N(i.description),1)])],2)):V("v-if",!0),i.closable?(B(),z(xe,{key:2},[i.closeText?(B(),z("div",{key:0,class:P([o(s).e("close-btn"),o(s).is("customed")]),onClick:d},N(i.closeText),3)):(B(),x(o(he),{key:1,class:P(o(s).e("close-btn")),onClick:d},{default:v(()=>[g(o(C))]),_:1},8,["class"]))],64)):V("v-if",!0)],2)],2),[[at,a.value]])]),_:3},8,["name"]))}});var _t=Le(kt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const It=Ae(_t),Bt=le({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:je}}),Qt={click:m=>m instanceof MouseEvent},Tt=["href"],Rt=Y({name:"ElLink"}),Lt=Y({...Rt,props:Bt,emits:Qt,setup(m,{emit:Q}){const h=m,C=se("link"),r=j(()=>[C.b(),C.m(h.type),C.is("disabled",h.disabled),C.is("underline",h.underline&&!h.disabled)]);function s(a){h.disabled||Q("click",a)}return(a,n)=>(B(),z("a",{class:P(o(r)),href:a.disabled||!a.href?void 0:a.href,onClick:s},[a.icon?(B(),x(o(he),{key:0},{default:v(()=>[(B(),x(Fe(a.icon)))]),_:1})):V("v-if",!0),a.$slots.default?(B(),z("span",{key:1,class:P(o(C).e("inner"))},[H(a.$slots,"default")],2)):V("v-if",!0),a.$slots.icon?H(a.$slots,"icon",{key:2}):V("v-if",!0)],10,Tt))}});var Ft=Le(Lt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const xt=Ae(Ft),Dt=le({prefixCls:{type:String}}),Qe=Y({name:"ElSpaceItem",props:Dt,setup(m,{slots:Q}){const h=se("space"),C=j(()=>`${m.prefixCls||h.b()}__item`);return()=>lt("div",{class:C.value},H(Q,"default"))}}),Te={small:8,default:12,large:16};function Vt(m){const Q=se("space"),h=j(()=>[Q.b(),Q.m(m.direction),m.class]),C=R(0),r=R(0),s=j(()=>{const n=m.wrap||m.fill?{flexWrap:"wrap",marginBottom:`-${r.value}px`}:{},c={alignItems:m.alignment};return[n,c,m.style]}),a=j(()=>{const n={paddingBottom:`${r.value}px`,marginRight:`${C.value}px`},c=m.fill?{flexGrow:1,minWidth:`${m.fillRatio}%`}:{};return[n,c]});return st(()=>{const{size:n="small",wrap:c,direction:p,fill:d}=m;if(te(n)){const[i=0,E=0]=n;C.value=i,r.value=E}else{let i;ie(n)?i=n:i=Te[n||"small"]||Te.small,(c||d)&&p==="horizontal"?C.value=r.value=i:p==="horizontal"?(C.value=i,r.value=0):(r.value=i,C.value=0)}}),{classes:h,containerStyle:s,itemStyle:a}}const Pt=le({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:ae([String,Object,Array]),default:""},style:{type:ae([String,Array,Object]),default:""},alignment:{type:ae(String),default:"center"},prefixCls:{type:String},spacer:{type:ae([Object,String,Number,Array]),default:null,validator:m=>De(m)||ie(m)||ut(m)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Ze,validator:m=>ie(m)||te(m)&&m.length===2&&m.every(ie)}}),Ot=Y({name:"ElSpace",props:Pt,setup(m,{slots:Q}){const{classes:h,containerStyle:C,itemStyle:r}=Vt(m);function s(a,n="",c=[]){const{prefixCls:p}=m;return a.forEach((d,i)=>{_e(d)?te(d.children)&&d.children.forEach((E,I)=>{_e(E)&&te(E.children)?s(E.children,`${n+I}-`,c):c.push(g(Qe,{style:r.value,prefixCls:p,key:`nested-${n+I}`},{default:()=>[E]},M.PROPS|M.STYLE,["style","prefixCls"]))}):$e(d)&&c.push(g(Qe,{style:r.value,prefixCls:p,key:`LoopKey${n+i}`},{default:()=>[d]},M.PROPS|M.STYLE,["style","prefixCls"]))}),c}return()=>{var a;const{spacer:n,direction:c}=m,p=H(Q,"default",{key:0},()=>[]);if(((a=p.children)!=null?a:[]).length===0)return null;if(te(p.children)){let d=s(p.children);if(n){const i=d.length-1;d=d.reduce((E,I,A)=>{const _=[...E,I];return A!==i&&_.push(g("span",{style:[r.value,c==="vertical"?"width: 100%":null],key:A},[De(n)?n:T(n,M.TEXT)],M.STYLE)),_},[])}return g("div",{class:h.value,style:C.value},d,M.STYLE|M.CLASS)}return p.children}}}),Ut=Ae(Ot);const Mt=ct("UserPannel",()=>{const m=R({announce:"",announceSwitch:!1,debug:!1,haveAccount:!1,userAgent:"",pending:!1}),Q=R(document.location.protocol==="https:"),h=R({url:"",password:"",dir:"/",uk:0,shareid:0,randsk:"",sign:"",timestamp:0,bd_user_id:null,pending:!1}),C=R(null),r=R([]),s=R([]),a=R(null),n=R([]),c=R(!1),p=R([]),d=R(!1),i=R(ft()),E=R(null);return{config:m,ishttps:Q,getFileListForm:h,getFileListFormRef:C,list:r,selectedRows:s,fileListTableRef:a,dlinkList:n,downloadDialogVisible:c,aria2ConfigForm:i,aria2ConfigDialogVisible:d,selectDownloadFiles:p,aria2ConfigFormRef:E}}),Nt=m=>new Date(m*1e3).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}),jt=(m,Q=2)=>{if(typeof m=="string"&&(m=parseFloat(m)),m===0)return"0 Bytes";const h=1024,C=["Bytes","KB","MB","GB","TB"],r=Math.floor(Math.log(m)/Math.log(h));return parseFloat((m/Math.pow(h,r)).toFixed(Q))+" "+C[r]},Zt="data:image/png;base64,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",zt="/assets/png/unknownfile-901c0c42.png";var Ve={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */(function(m,Q){(function(C,r){m.exports=r()})(qe,function(){return function(){var h={686:function(s,a,n){n.d(a,{default:function(){return ve}});var c=n(279),p=n.n(c),d=n(370),i=n.n(d),E=n(817),I=n.n(E);function A(y){try{return document.execCommand(y)}catch{return!1}}var _=function(f){var u=I()(f);return A("cut"),u},b=_;function F(y){var f=document.documentElement.getAttribute("dir")==="rtl",u=document.createElement("textarea");u.style.fontSize="12pt",u.style.border="0",u.style.padding="0",u.style.margin="0",u.style.position="absolute",u.style[f?"right":"left"]="-9999px";var e=window.pageYOffset||document.documentElement.scrollTop;return u.style.top="".concat(e,"px"),u.setAttribute("readonly",""),u.value=y,u}var ue=function(f,u){var e=F(f);u.container.appendChild(e);var t=I()(e);return A("copy"),e.remove(),t},ce=function(f){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},e="";return typeof f=="string"?e=ue(f,u):f instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(f==null?void 0:f.type)?e=ue(f.value,u):(e=I()(f),A("copy")),e},J=ce;function G(y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?G=function(u){return typeof u}:G=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},G(y)}var fe=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=f.action,e=u===void 0?"copy":u,t=f.container,l=f.target,k=f.text;if(e!=="copy"&&e!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(l!==void 0)if(l&&G(l)==="object"&&l.nodeType===1){if(e==="copy"&&l.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(e==="cut"&&(l.hasAttribute("readonly")||l.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(k)return J(k,{container:t});if(l)return e==="cut"?b(l):J(l,{container:t})},W=fe;function O(y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?O=function(u){return typeof u}:O=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},O(y)}function ne(y,f){if(!(y instanceof f))throw new TypeError("Cannot call a class as a function")}function q(y,f){for(var u=0;u<f.length;u++){var e=f[u];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(y,e.key,e)}}function de(y,f,u){return f&&q(y.prototype,f),u&&q(y,u),y}function pe(y,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(f&&f.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),f&&K(y,f)}function K(y,f){return K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},K(y,f)}function re(y){var f=me();return function(){var e=Z(y),t;if(f){var l=Z(this).constructor;t=Reflect.construct(e,arguments,l)}else t=e.apply(this,arguments);return $(this,t)}}function $(y,f){return f&&(O(f)==="object"||typeof f=="function")?f:ge(y)}function ge(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function me(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Z(y){return Z=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},Z(y)}function X(y,f){var u="data-clipboard-".concat(y);if(f.hasAttribute(u))return f.getAttribute(u)}var ye=function(y){pe(u,y);var f=re(u);function u(e,t){var l;return ne(this,u),l=f.call(this),l.resolveOptions(t),l.listenClick(e),l}return de(u,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof t.action=="function"?t.action:this.defaultAction,this.target=typeof t.target=="function"?t.target:this.defaultTarget,this.text=typeof t.text=="function"?t.text:this.defaultText,this.container=O(t.container)==="object"?t.container:document.body}},{key:"listenClick",value:function(t){var l=this;this.listener=i()(t,"click",function(k){return l.onClick(k)})}},{key:"onClick",value:function(t){var l=t.delegateTarget||t.currentTarget,k=this.action(l)||"copy",S=W({action:k,container:this.container,target:this.target(l),text:this.text(l)});this.emit(S?"success":"error",{action:k,text:S,trigger:l,clearSelection:function(){l&&l.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(t){return X("action",t)}},{key:"defaultTarget",value:function(t){var l=X("target",t);if(l)return document.querySelector(l)}},{key:"defaultText",value:function(t){return X("text",t)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(t){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return J(t,l)}},{key:"cut",value:function(t){return b(t)}},{key:"isSupported",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],l=typeof t=="string"?[t]:t,k=!!document.queryCommandSupported;return l.forEach(function(S){k=k&&!!document.queryCommandSupported(S)}),k}}]),u}(p()),ve=ye},828:function(s){var a=9;if(typeof Element<"u"&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}function c(p,d){for(;p&&p.nodeType!==a;){if(typeof p.matches=="function"&&p.matches(d))return p;p=p.parentNode}}s.exports=c},438:function(s,a,n){var c=n(828);function p(E,I,A,_,b){var F=i.apply(this,arguments);return E.addEventListener(A,F,b),{destroy:function(){E.removeEventListener(A,F,b)}}}function d(E,I,A,_,b){return typeof E.addEventListener=="function"?p.apply(null,arguments):typeof A=="function"?p.bind(null,document).apply(null,arguments):(typeof E=="string"&&(E=document.querySelectorAll(E)),Array.prototype.map.call(E,function(F){return p(F,I,A,_,b)}))}function i(E,I,A,_){return function(b){b.delegateTarget=c(b.target,I),b.delegateTarget&&_.call(E,b)}}s.exports=d},879:function(s,a){a.node=function(n){return n!==void 0&&n instanceof HTMLElement&&n.nodeType===1},a.nodeList=function(n){var c=Object.prototype.toString.call(n);return n!==void 0&&(c==="[object NodeList]"||c==="[object HTMLCollection]")&&"length"in n&&(n.length===0||a.node(n[0]))},a.string=function(n){return typeof n=="string"||n instanceof String},a.fn=function(n){var c=Object.prototype.toString.call(n);return c==="[object Function]"}},370:function(s,a,n){var c=n(879),p=n(438);function d(A,_,b){if(!A&&!_&&!b)throw new Error("Missing required arguments");if(!c.string(_))throw new TypeError("Second argument must be a String");if(!c.fn(b))throw new TypeError("Third argument must be a Function");if(c.node(A))return i(A,_,b);if(c.nodeList(A))return E(A,_,b);if(c.string(A))return I(A,_,b);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(A,_,b){return A.addEventListener(_,b),{destroy:function(){A.removeEventListener(_,b)}}}function E(A,_,b){return Array.prototype.forEach.call(A,function(F){F.addEventListener(_,b)}),{destroy:function(){Array.prototype.forEach.call(A,function(F){F.removeEventListener(_,b)})}}}function I(A,_,b){return p(document.body,A,_,b)}s.exports=d},817:function(s){function a(n){var c;if(n.nodeName==="SELECT")n.focus(),c=n.value;else if(n.nodeName==="INPUT"||n.nodeName==="TEXTAREA"){var p=n.hasAttribute("readonly");p||n.setAttribute("readonly",""),n.select(),n.setSelectionRange(0,n.value.length),p||n.removeAttribute("readonly"),c=n.value}else{n.hasAttribute("contenteditable")&&n.focus();var d=window.getSelection(),i=document.createRange();i.selectNodeContents(n),d.removeAllRanges(),d.addRange(i),c=d.toString()}return c}s.exports=a},279:function(s){function a(){}a.prototype={on:function(n,c,p){var d=this.e||(this.e={});return(d[n]||(d[n]=[])).push({fn:c,ctx:p}),this},once:function(n,c,p){var d=this;function i(){d.off(n,i),c.apply(p,arguments)}return i._=c,this.on(n,i,p)},emit:function(n){var c=[].slice.call(arguments,1),p=((this.e||(this.e={}))[n]||[]).slice(),d=0,i=p.length;for(d;d<i;d++)p[d].fn.apply(p[d].ctx,c);return this},off:function(n,c){var p=this.e||(this.e={}),d=p[n],i=[];if(d&&c)for(var E=0,I=d.length;E<I;E++)d[E].fn!==c&&d[E].fn._!==c&&i.push(d[E]);return i.length?p[n]=i:delete p[n],this}},s.exports=a,s.exports.TinyEmitter=a}},C={};function r(s){if(C[s])return C[s].exports;var a=C[s]={exports:{}};return h[s](a,a.exports,r),a.exports}return function(){r.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(a,{a}),a}}(),function(){r.d=function(s,a){for(var n in a)r.o(a,n)&&!r.o(s,n)&&Object.defineProperty(s,n,{enumerable:!0,get:a[n]})}}(),function(){r.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)}}(),r(686)}().default})})(Ve);var Yt=Ve.exports;const Gt=He(Yt),qt=["innerHTML"],Ht=["src"],Jt=Y({__name:"UserPannel",setup(m){const Q=Mt(),{config:h,ishttps:C,getFileListForm:r,getFileListFormRef:s,list:a,dlinkList:n,selectedRows:c,fileListTableRef:p,downloadDialogVisible:d,aria2ConfigForm:i,aria2ConfigFormRef:E,selectDownloadFiles:I,aria2ConfigDialogVisible:A}=dt(Q),_=pt();Object.assign(r.value,_.query);async function b(){h.value.pending=!0;const e=await yt()??"failed";h.value.pending=!1,e!=="failed"&&(h.value={...h.value,...e.data,announce:e.data.announce.replaceAll("[NextLine]","<br>")})}gt(()=>{b()});const F=e=>{const t=e.match(/s\/([a-zA-Z0-9_-]+)/),l=e.match(/\?pwd=([a-zA-Z0-9_-]+)/);return t?{id:t[1],password:l?l[1]:null}:!1},ce={url:[{required:!0,validator:(e,t,l)=>t===""?l(new Error("请先输入需要解析的链接")):F(t)?l():l(new Error("请输入合法的链接")),trigger:"blur"}]},J=()=>{a.value=[],r.value.dir="/",c.value=[];const e=F(r.value.url);e&&(e.id&&(r.value.url=`https://pan.baidu.com/s/${e.id}`),e.password&&(r.value.password=e.password,L.success("已自动填写密码")))},G=async e=>{e&&await e.validate(()=>{})&&(r.value.pending=!0,await W()&&await O(),r.value.pending=!1)},fe=()=>{let e=r.value.dir.split("/");e.pop();const t=e.join("/");return t===""?"/":t},W=async(e="0",t=!1)=>{const l=await vt({url:r.value.url,password:r.value.password,dir:r.value.dir})??"failed";if(l==="failed")return;let{message:k,data:S}=l;return L.success(k),Object.assign(r.value,{randsk:S.randsk,uk:S.uk,shareid:S.shareid}),a.value=S.list,r.value.dir!==null&&r.value.dir!==""&&r.value.dir!=="/"?a.value=[{isdir:"1",path:fe(),server_filename:"..",size:"0",server_mtime:t?a.value[0].server_mtime:e},...S.list]:a.value=S.list,"success"},O=async()=>{const e=await ht({uk:r.value.uk,shareid:r.value.shareid})??"failed";if(e==="failed")return;const{message:t,data:l}=e;L.success(t),Object.assign(r.value,l)},ne=async e=>{e&&await e.validate(()=>{})&&(r.value.pending=!0,await W("0",!0),await O(),r.value.pending=!1)},q=(e,t)=>{const l=document.createElement("textarea");l.value=e,document.body.appendChild(l),new Gt(l,{text:()=>e}),l.click(),document.body.removeChild(l),t&&L({message:t,type:"success"})},de=async e=>{e&&await e.validate(()=>{})&&q(`${location.host}/?url=${r.value.url}&password=${r.value.password}&dir=${r.value.dir}`,"复制成功")},pe=async e=>{/Mobi|Android|iPhone/i.test(navigator.userAgent)&&(r.value.pending=!0,e.isdir==="1"||e.isdir===1?await re(e.path,e.server_mtime):await $(e.fs_id),r.value.pending=!1)},K=async e=>{r.value.pending=!0,e.isdir==="1"||e.isdir===1?await re(e.path,e.server_mtime):await $(e.fs_id),r.value.pending=!1},re=async(e,t)=>{r.value.dir=e,await W(t)},$=async e=>{const t=await Et({fs_ids:Array.isArray(e)?e:[e],...r.value}).catch(async k=>{const{message:S}=k;S.includes("当前签名已过期")&&(L.error(S),L.info("自动重新获取中..."),await ne(s.value))})??"failed";if(!t||t==="failed")return;const{data:l}=t;L.success("解析成功"),n.value=l,d.value=!0},ge=async()=>{r.value.pending=!0;let e=!1;if(c.value=c.value.filter(l=>{var S;if(e)return!1;const k=l.isdir=="1";return k&&(e=!0,L.error("请勿勾选文件夹"),(S=p.value)==null||S.clearSelection()),!k}),e){r.value.pending=!1;return}const t=c.value.map(l=>l.fs_id);await $(t),r.value.pending=!1},me=e=>c.value=e,Z=async(e,t)=>{(await Ye.post(`${i.value.host}:${i.value.port}/jsonrpc`,{jsonrpc:"2.0",id:Be(),method:"aria2.addUri",params:[`token:${i.value.secret}`,[e],{out:t,header:[`User-Agent: ${h.value.userAgent}`]}]}).catch(()=>{L.error("发送失败，请检查控制台输出")})??"failed")!=="failed"&&L.success(`已把${t}任务发送给下载器`)},X=e=>I.value=e,ye=()=>A.value=!0,ve=async()=>{L.error("请确保最大同时下载文件数在5及以下,否则可能下载失败!"),L.error("请确保最大同时下载文件数在5及以下,否则可能下载失败!"),L.error("请确保最大同时下载文件数在5及以下,否则可能下载失败!"),await y(3e3),L.success("开始下载"),I.value.forEach(e=>Z(e.dlink,e.server_filename))},y=e=>new Promise(t=>setTimeout(t,e)),f={host:[{required:!0,message:"请输入Aria2 服务器地址",trigger:"blur"}],port:[{required:!0,message:"请输入Aria2 端口号",trigger:"blur"}]},u=async e=>{e&&await e.validate(()=>{})&&(localStorage.setItem("configAria2",JSON.stringify(i.value)),L.success("保存成功"),A.value=!1)};return(e,t)=>{const l=rt,k=nt,S=et,D=Ge,we=tt,Pe=Xe,Oe=xt,Ce=Ut,U=We,be=Ke,oe=It,Se=ze,ke=Je;return B(),z(xe,null,[g(l,{modelValue:o(h).announceSwitch,"onUpdate:modelValue":t[0]||(t[0]=w=>o(h).announceSwitch=w),title:"公告",width:"90%"},{default:v(()=>[ee("span",{innerHTML:o(h).announce},null,8,qt)]),_:1},8,["modelValue"]),g(l,{modelValue:o(A),"onUpdate:modelValue":t[5]||(t[5]=w=>Ie(A)?A.value=w:null),title:"Aria2配置",width:"90%"},{default:v(()=>[g(we,{ref_key:"aria2ConfigFormRef",ref:E,model:o(i),rules:f,"label-width":"200px"},{default:v(()=>[g(S,{label:"Aria2 服务器地址",prop:"host"},{default:v(()=>[g(k,{modelValue:o(i).host,"onUpdate:modelValue":t[1]||(t[1]=w=>o(i).host=w)},null,8,["modelValue"])]),_:1}),g(S,{label:"Aria2 端口号",prop:"port"},{default:v(()=>[g(k,{modelValue:o(i).port,"onUpdate:modelValue":t[2]||(t[2]=w=>o(i).port=w)},null,8,["modelValue"])]),_:1}),g(S,{label:"Aria2 下载密钥",prop:"secret"},{default:v(()=>[g(k,{modelValue:o(i).secret,"onUpdate:modelValue":t[3]||(t[3]=w=>o(i).secret=w)},null,8,["modelValue"])]),_:1}),g(S,null,{default:v(()=>[g(D,{type:"primary",onClick:t[4]||(t[4]=w=>u(o(E)))},{default:v(()=>[T(" 保存 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),g(l,{modelValue:o(d),"onUpdate:modelValue":t[7]||(t[7]=w=>Ie(d)?d.value=w:null),title:"解析任务列表",width:"80%"},{default:v(()=>[g(Ce,null,{default:v(()=>[g(Pe,{class:"mx-1"},{default:v(()=>[T("当前的UA :")]),_:1}),g(Oe,{type:"danger",onClick:t[6]||(t[6]=w=>q(o(h).userAgent,"已复制UA"))},{default:v(()=>[T(N(o(h).userAgent),1)]),_:1}),g(D,{type:"primary",disabled:o(I).length<=0,onClick:ve},{default:v(()=>[T(" 批量下载 ")]),_:1},8,["disabled"]),g(D,{type:"primary",onClick:ye},{default:v(()=>[T("下载配置")]),_:1})]),_:1}),g(be,{border:"","show-overflow-tooltip":"",class:"table",data:o(n),onSelectionChange:X},{default:v(()=>[g(U,{type:"selection",width:"40"}),g(U,{prop:"server_filename",label:"文件名"}),g(U,{prop:"dlink",label:"下载链接"}),g(U,{label:"操作"},{default:v(w=>[g(D,{type:"primary",size:"small",onClick:Ue=>q(w.row.dlink,"已将链接复制到粘贴板内")},{default:v(()=>[T(" 复制链接 ")]),_:2},1032,["onClick"]),g(D,{type:"primary",size:"small",onClick:Ue=>Z(w.row.dlink,w.row.server_filename)},{default:v(()=>[T(" 发送Aria2 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue"]),Ee((B(),x(Se,null,{default:v(()=>[ee("h2",null,"前台解析中心 | "+N(o(Be)()),1),o(h).haveAccount?(B(),x(oe,{key:0,title:"当前中转账号充足",type:"success"})):(B(),x(oe,{key:1,title:"当前中转账号不足",type:"error"})),o(h).debug?(B(),x(oe,{key:2,class:"alert",title:"当前网站开启了DEBUG模式,非调试请关闭!!!!",type:"error"})):V("",!0),o(C)?V("",!0):(B(),x(oe,{key:3,class:"alert",title:"当前网站未开启SSL,可能出现无法请求Aria2服务器的问题",type:"error"})),g(we,{ref_key:"getFileListFormRef",ref:s,model:o(r),rules:ce,"label-width":"100",class:"form"},{default:v(()=>[g(S,{label:"链接",prop:"url"},{default:v(()=>[g(k,{modelValue:o(r).url,"onUpdate:modelValue":t[8]||(t[8]=w=>o(r).url=w),onBlur:J},null,8,["modelValue"])]),_:1}),g(S,{label:"密码",prop:"password"},{default:v(()=>[g(k,{modelValue:o(r).password,"onUpdate:modelValue":t[9]||(t[9]=w=>o(r).password=w)},null,8,["modelValue"])]),_:1}),o(mt)()==="1"?(B(),x(S,{key:0,label:"指定用户解析",prop:"bd_user_id"},{default:v(()=>[g(k,{modelValue:o(r).bd_user_id,"onUpdate:modelValue":t[10]||(t[10]=w=>o(r).bd_user_id=w)},null,8,["modelValue"])]),_:1})):V("",!0),g(S,{label:"当前路径",prop:"dir"},{default:v(()=>[g(k,{modelValue:o(r).dir,"onUpdate:modelValue":t[11]||(t[11]=w=>o(r).dir=w),disabled:""},null,8,["modelValue"])]),_:1}),g(S,null,{default:v(()=>[g(D,{type:"primary",onClick:t[12]||(t[12]=w=>G(o(s)))},{default:v(()=>[T(" 解析链接 ")]),_:1}),g(D,{type:"primary",onClick:t[13]||(t[13]=w=>ne(o(s)))},{default:v(()=>[T(" 刷新列表 ")]),_:1}),g(D,{type:"primary",disabled:o(c).length<=0,onClick:ge},{default:v(()=>[T(" 批量下载 ")]),_:1},8,["disabled"]),g(D,{type:"primary",onClick:t[14]||(t[14]=w=>de(o(s)))},{default:v(()=>[T(" 复制当前地址 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})),[[ke,o(h).pending||o(r).pending]]),Ee((B(),x(Se,{class:"card"},{default:v(()=>[g(be,{border:"",stripe:"",ref_key:"fileListTableRef",ref:p,data:o(a),onRowClick:pe,onRowDblclick:K,onSelectionChange:me},{default:v(()=>[g(U,{type:"selection",width:"40"}),g(U,{label:"文件名"},{default:v(w=>[g(Ce,{wrap:""},{default:v(()=>[ee("img",{src:w.row.isdir=="1"?o(Zt):o(zt)},null,8,Ht),T(" "+N(w.row.server_filename),1)]),_:2},1024)]),_:1}),g(U,{label:"修改时间"},{default:v(w=>[T(N(o(Nt)(w.row.server_mtime)),1)]),_:1}),g(U,{label:"大小"},{default:v(w=>[T(N(o(jt)(w.row.size)),1)]),_:1})]),_:1},8,["data"])]),_:1})),[[ke,o(r).pending]])],64)}}});const sn=At(Jt,[["__scopeId","data-v-c3f5df63"]]);export{sn as default};
