import{b as V,i as G,F as W,E as ne,_ as R,d as se,m as oe,e as ie,u as J,ac as ce,ad as ee,ae as pe,c as U,p as de,q as ge,M as fe,w as be,g as H,j as me}from"./request-693c9f28.js";import{E as ve,a as _e,v as Ce}from"./el-table-column-544fbcf2.js";import{E as he}from"./el-input-9558532d.js";import{i as Pe}from"./el-tag-e1013548.js";import{E as ye,a as ke}from"./el-select-3b3ff264.js";import{d as z,c as w,o as d,i as y,t as q,a as B,w as N,g as le,f as a,P as ze,r as M,Q as X,l as m,F as Y,an as re,n as x,e as ae,p as Se,h as Q,ag as we,S as Ne,V as xe,m as F,A as Ee,C as $e,k as K,b as Ae}from"./index-e9c0da99.js";import{u as Te}from"./AccountManagement-e2b8c0d0.js";import{h as Me,i as Be,j as Ie}from"./admin-b93de6b8.js";import{_ as Le}from"./_plugin-vue_export-helper-c27b6911.js";import"./focus-trap-2e98dfae.js";import"./strings-244a3fe2.js";import"./validator-073a880a.js";const ue=Symbol("elPaginationKey"),qe=V({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:G}}),je={click:e=>e instanceof MouseEvent},Fe=["disabled","aria-label","aria-disabled"],De={key:0},Ke=z({name:"ElPaginationPrev"}),Ue=z({...Ke,props:qe,emits:je,setup(e){const l=e,{t:n}=W(),g=w(()=>l.disabled||l.currentPage<=1);return(r,u)=>(d(),y("button",{type:"button",class:"btn-prev",disabled:a(g),"aria-label":r.prevText||a(n)("el.pagination.prev"),"aria-disabled":a(g),onClick:u[0]||(u[0]=b=>r.$emit("click",b))},[r.prevText?(d(),y("span",De,q(r.prevText),1)):(d(),B(a(ne),{key:1},{default:N(()=>[(d(),B(le(r.prevIcon)))]),_:1}))],8,Fe))}});var Ve=R(Ue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const We=V({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:G}}),Oe=["disabled","aria-label","aria-disabled"],Je={key:0},Re=z({name:"ElPaginationNext"}),He=z({...Re,props:We,emits:["click"],setup(e){const l=e,{t:n}=W(),g=w(()=>l.disabled||l.currentPage===l.pageCount||l.pageCount===0);return(r,u)=>(d(),y("button",{type:"button",class:"btn-next",disabled:a(g),"aria-label":r.nextText||a(n)("el.pagination.next"),"aria-disabled":a(g),onClick:u[0]||(u[0]=b=>r.$emit("click",b))},[r.nextText?(d(),y("span",Je,q(r.nextText),1)):(d(),B(a(ne),{key:1},{default:N(()=>[(d(),B(le(r.nextIcon)))]),_:1}))],8,Oe))}});var Qe=R(He,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const Z=()=>ze(ue,{}),Ge=V({pageSize:{type:Number,required:!0},pageSizes:{type:se(Array),default:()=>oe([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:ie}}),Xe=z({name:"ElPaginationSizes"}),Ye=z({...Xe,props:Ge,emits:["page-size-change"],setup(e,{emit:l}){const n=e,{t:g}=W(),r=J("pagination"),u=Z(),b=M(n.pageSize);X(()=>n.pageSizes,(f,h)=>{if(!Pe(f,h)&&Array.isArray(f)){const p=f.includes(n.pageSize)?n.pageSize:n.pageSizes[0];l("page-size-change",p)}}),X(()=>n.pageSize,f=>{b.value=f});const _=w(()=>n.pageSizes);function E(f){var h;f!==b.value&&(b.value=f,(h=u.handleSizeChange)==null||h.call(u,Number(f)))}return(f,h)=>(d(),y("span",{class:x(a(r).e("sizes"))},[m(a(ke),{"model-value":b.value,disabled:f.disabled,"popper-class":f.popperClass,size:f.size,teleported:f.teleported,"validate-event":!1,onChange:E},{default:N(()=>[(d(!0),y(Y,null,re(a(_),p=>(d(),B(a(ye),{key:p,value:p,label:p+a(g)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var Ze=R(Ye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const ea=V({size:{type:String,values:ie}}),aa=["disabled"],ta=z({name:"ElPaginationJumper"}),na=z({...ta,props:ea,setup(e){const{t:l}=W(),n=J("pagination"),{pageCount:g,disabled:r,currentPage:u,changeEvent:b}=Z(),_=M(),E=w(()=>{var p;return(p=_.value)!=null?p:u==null?void 0:u.value});function f(p){_.value=p?+p:""}function h(p){p=Math.trunc(+p),b==null||b(p),_.value=void 0}return(p,S)=>(d(),y("span",{class:x(a(n).e("jump")),disabled:a(r)},[ae("span",{class:x([a(n).e("goto")])},q(a(l)("el.pagination.goto")),3),m(a(he),{size:p.size,class:x([a(n).e("editor"),a(n).is("in-pagination")]),min:1,max:a(g),disabled:a(r),"model-value":a(E),"validate-event":!1,label:a(l)("el.pagination.page"),type:"number","onUpdate:modelValue":f,onChange:h},null,8,["size","class","max","disabled","model-value","label"]),ae("span",{class:x([a(n).e("classifier")])},q(a(l)("el.pagination.pageClassifier")),3)],10,aa))}});var sa=R(na,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const oa=V({total:{type:Number,default:1e3}}),ia=["disabled"],la=z({name:"ElPaginationTotal"}),ra=z({...la,props:oa,setup(e){const{t:l}=W(),n=J("pagination"),{disabled:g}=Z();return(r,u)=>(d(),y("span",{class:x(a(n).e("total")),disabled:a(g)},q(a(l)("el.pagination.total",{total:r.total})),11,ia))}});var ua=R(ra,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const ca=V({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),pa=["onKeyup"],da=["aria-current","aria-label","tabindex"],ga=["tabindex","aria-label"],fa=["aria-current","aria-label","tabindex"],ba=["tabindex","aria-label"],ma=["aria-current","aria-label","tabindex"],va=z({name:"ElPaginationPager"}),_a=z({...va,props:ca,emits:["change"],setup(e,{emit:l}){const n=e,g=J("pager"),r=J("icon"),{t:u}=W(),b=M(!1),_=M(!1),E=M(!1),f=M(!1),h=M(!1),p=M(!1),S=w(()=>{const t=n.pagerCount,s=(t-1)/2,o=Number(n.currentPage),T=Number(n.pageCount);let A=!1,I=!1;T>t&&(o>t-s&&(A=!0),o<T-s&&(I=!0));const L=[];if(A&&!I){const v=T-(t-2);for(let D=v;D<T;D++)L.push(D)}else if(!A&&I)for(let v=2;v<t;v++)L.push(v);else if(A&&I){const v=Math.floor(t/2)-1;for(let D=o-v;D<=o+v;D++)L.push(D)}else for(let v=2;v<T;v++)L.push(v);return L}),i=w(()=>["more","btn-quickprev",r.b(),g.is("disabled",n.disabled)]),$=w(()=>["more","btn-quicknext",r.b(),g.is("disabled",n.disabled)]),P=w(()=>n.disabled?-1:0);Se(()=>{const t=(n.pagerCount-1)/2;b.value=!1,_.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-t&&(b.value=!0),n.currentPage<n.pageCount-t&&(_.value=!0))});function C(t=!1){n.disabled||(t?E.value=!0:f.value=!0)}function O(t=!1){t?h.value=!0:p.value=!0}function j(t){const s=t.target;if(s.tagName.toLowerCase()==="li"&&Array.from(s.classList).includes("number")){const o=Number(s.textContent);o!==n.currentPage&&l("change",o)}else s.tagName.toLowerCase()==="li"&&Array.from(s.classList).includes("more")&&c(t)}function c(t){const s=t.target;if(s.tagName.toLowerCase()==="ul"||n.disabled)return;let o=Number(s.textContent);const T=n.pageCount,A=n.currentPage,I=n.pagerCount-2;s.className.includes("more")&&(s.className.includes("quickprev")?o=A-I:s.className.includes("quicknext")&&(o=A+I)),Number.isNaN(+o)||(o<1&&(o=1),o>T&&(o=T)),o!==A&&l("change",o)}return(t,s)=>(d(),y("ul",{class:x(a(g).b()),onClick:c,onKeyup:we(j,["enter"])},[t.pageCount>0?(d(),y("li",{key:0,class:x([[a(g).is("active",t.currentPage===1),a(g).is("disabled",t.disabled)],"number"]),"aria-current":t.currentPage===1,"aria-label":a(u)("el.pagination.currentPage",{pager:1}),tabindex:a(P)}," 1 ",10,da)):Q("v-if",!0),b.value?(d(),y("li",{key:1,class:x(a(i)),tabindex:a(P),"aria-label":a(u)("el.pagination.prevPages",{pager:t.pagerCount-2}),onMouseenter:s[0]||(s[0]=o=>C(!0)),onMouseleave:s[1]||(s[1]=o=>E.value=!1),onFocus:s[2]||(s[2]=o=>O(!0)),onBlur:s[3]||(s[3]=o=>h.value=!1)},[(E.value||h.value)&&!t.disabled?(d(),B(a(ce),{key:0})):(d(),B(a(ee),{key:1}))],42,ga)):Q("v-if",!0),(d(!0),y(Y,null,re(a(S),o=>(d(),y("li",{key:o,class:x([[a(g).is("active",t.currentPage===o),a(g).is("disabled",t.disabled)],"number"]),"aria-current":t.currentPage===o,"aria-label":a(u)("el.pagination.currentPage",{pager:o}),tabindex:a(P)},q(o),11,fa))),128)),_.value?(d(),y("li",{key:2,class:x(a($)),tabindex:a(P),"aria-label":a(u)("el.pagination.nextPages",{pager:t.pagerCount-2}),onMouseenter:s[4]||(s[4]=o=>C()),onMouseleave:s[5]||(s[5]=o=>f.value=!1),onFocus:s[6]||(s[6]=o=>O()),onBlur:s[7]||(s[7]=o=>p.value=!1)},[(f.value||p.value)&&!t.disabled?(d(),B(a(pe),{key:0})):(d(),B(a(ee),{key:1}))],42,ba)):Q("v-if",!0),t.pageCount>1?(d(),y("li",{key:3,class:x([[a(g).is("active",t.currentPage===t.pageCount),a(g).is("disabled",t.disabled)],"number"]),"aria-current":t.currentPage===t.pageCount,"aria-label":a(u)("el.pagination.currentPage",{pager:t.pageCount}),tabindex:a(P)},q(t.pageCount),11,ma)):Q("v-if",!0)],42,pa))}});var Ca=R(_a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const k=e=>typeof e!="number",ha=V({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>U(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:se(Array),default:()=>oe([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:G,default:()=>de},nextText:{type:String,default:""},nextIcon:{type:G,default:()=>ge},teleported:{type:Boolean,default:!0},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),Pa={"update:current-page":e=>U(e),"update:page-size":e=>U(e),"size-change":e=>U(e),"current-change":e=>U(e),"prev-click":e=>U(e),"next-click":e=>U(e)},te="ElPagination";var ya=z({name:te,props:ha,emits:Pa,setup(e,{emit:l,slots:n}){const{t:g}=W(),r=J("pagination"),u=Ne().vnode.props||{},b="onUpdate:currentPage"in u||"onUpdate:current-page"in u||"onCurrentChange"in u,_="onUpdate:pageSize"in u||"onUpdate:page-size"in u||"onSizeChange"in u,E=w(()=>{if(k(e.total)&&k(e.pageCount)||!k(e.currentPage)&&!b)return!1;if(e.layout.includes("sizes")){if(k(e.pageCount)){if(!k(e.total)&&!k(e.pageSize)&&!_)return!1}else if(!_)return!1}return!0}),f=M(k(e.defaultPageSize)?10:e.defaultPageSize),h=M(k(e.defaultCurrentPage)?1:e.defaultCurrentPage),p=w({get(){return k(e.pageSize)?f.value:e.pageSize},set(c){k(e.pageSize)&&(f.value=c),_&&(l("update:page-size",c),l("size-change",c))}}),S=w(()=>{let c=0;return k(e.pageCount)?k(e.total)||(c=Math.max(1,Math.ceil(e.total/p.value))):c=e.pageCount,c}),i=w({get(){return k(e.currentPage)?h.value:e.currentPage},set(c){let t=c;c<1?t=1:c>S.value&&(t=S.value),k(e.currentPage)&&(h.value=t),b&&(l("update:current-page",t),l("current-change",t))}});X(S,c=>{i.value>c&&(i.value=c)});function $(c){i.value=c}function P(c){p.value=c;const t=S.value;i.value>t&&(i.value=t)}function C(){e.disabled||(i.value-=1,l("prev-click",i.value))}function O(){e.disabled||(i.value+=1,l("next-click",i.value))}function j(c,t){c&&(c.props||(c.props={}),c.props.class=[c.props.class,t].join(" "))}return xe(ue,{pageCount:S,disabled:w(()=>e.disabled),currentPage:i,changeEvent:$,handleSizeChange:P}),()=>{var c,t;if(!E.value)return fe(te,g("el.pagination.deprecationWarning")),null;if(!e.layout||e.hideOnSinglePage&&S.value<=1)return null;const s=[],o=[],T=F("div",{class:r.e("rightwrapper")},o),A={prev:F(Ve,{disabled:e.disabled,currentPage:i.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:C}),jumper:F(sa,{size:e.small?"small":"default"}),pager:F(Ca,{currentPage:i.value,pageCount:S.value,pagerCount:e.pagerCount,onChange:$,disabled:e.disabled}),next:F(Qe,{disabled:e.disabled,currentPage:i.value,pageCount:S.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:O}),sizes:F(Ze,{pageSize:p.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,teleported:e.teleported,size:e.small?"small":"default"}),slot:(t=(c=n==null?void 0:n.default)==null?void 0:c.call(n))!=null?t:null,total:F(ua,{total:k(e.total)?0:e.total})},I=e.layout.split(",").map(v=>v.trim());let L=!1;return I.forEach(v=>{if(v==="->"){L=!0;return}L?o.push(A[v]):s.push(A[v])}),j(s[0],r.is("first")),j(s[s.length-1],r.is("last")),L&&o.length>0&&(j(o[0],r.is("first")),j(o[o.length-1],r.is("last")),s.push(T)),F("div",{class:[r.b(),r.is("background",e.background),{[r.m("small")]:e.small}]},s)}}});const ka=be(ya);const za=z({__name:"AccountList",setup(e){const l=Te(),{currentPage:n,pageSize:g,accountList:r,accountLoading:u,selectAccounts:b}=Ee(l),_=async(i,$)=>{u.value=!0;const P=await Me({account_id:i})??"failed";u.value=!1,P.toString()!=="failed"&&(H.success(`成功${$===0?"启用":"禁用"}`),await l.getAccounts())},E=async i=>{u.value=!0;const $=await Be({account_id:i})??"failed";u.value=!1,$.toString()!=="failed"&&(H.success("更新账户信息成功"),await l.getAccounts())},f=async i=>{u.value=!0;const $=await Ie({account_id:i})??"failed";u.value=!1,$.toString()!=="failed"&&(H.success("删除账户成功"),await l.getAccounts())},h=i=>b.value=i,p=()=>{b.value.forEach(i=>{if(i.switch===1)return H.info(`编号:${i.id},已经启用了`);_(i.id,i.switch)})},S=()=>{b.value.forEach(i=>{if(i.switch===0)return H.info(`编号:${i.id},已经禁用了`);_(i.id,i.switch)})};return $e(l.getAccounts),(i,$)=>{const P=me,C=ve,O=_e,j=ka,c=Ce;return d(),y(Y,null,[m(P,{type:"primary",onClick:a(l).openAddDialog},{default:N(()=>[K("添加代理账号")]),_:1},8,["onClick"]),m(P,{type:"primary",disabled:a(b).length<=0,onClick:p},{default:N(()=>[K(" 批量启用 ")]),_:1},8,["disabled"]),m(P,{type:"primary",disabled:a(b).length<=0,onClick:S},{default:N(()=>[K(" 批量禁用 ")]),_:1},8,["disabled"]),Ae((d(),B(O,{data:a(r).data,border:"","show-overflow-tooltip":"",class:"table",onSelectionChange:h},{default:N(()=>[m(C,{type:"selection",width:"40"}),m(C,{prop:"id",label:"编号"}),m(C,{prop:"baidu_name",label:"百度用户名"}),m(C,{prop:"netdisk_name",label:"网盘用户名"}),m(C,{prop:"state",label:"状态"}),m(C,{prop:"add_time",label:"添加时间"}),m(C,{prop:"svip_end_time",label:"到期时间"}),m(C,{prop:"use",label:"最后有效时间"}),m(C,{prop:"vip_type",label:"会员类型"}),m(C,{prop:"cookie",label:"cookie值"}),m(C,{prop:"switch",label:"是否启用"},{default:N(t=>[K(q(t.row.switch===0?"禁用":"启用"),1)]),_:1}),m(C,{label:"操作",width:"220"},{default:N(t=>[m(P,{size:"small",type:"primary",onClick:s=>E(t.row.id)},{default:N(()=>[K(" 更新信息 ")]),_:2},1032,["onClick"]),m(P,{size:"small",type:t.row.switch===0?"success":"info",onClick:s=>_(t.row.id,t.row.switch)},{default:N(()=>[K(q(t.row.switch===0?"启用":"禁用"),1)]),_:2},1032,["type","onClick"]),m(P,{size:"small",type:"danger",onClick:s=>f(t.row.id)},{default:N(()=>[K(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[c,a(u)]]),m(j,{"current-page":a(n),"page-size":a(g),total:a(r).total,"hide-on-single-page":"",onCurrentChange:a(l).getAccounts},null,8,["current-page","page-size","total","onCurrentChange"])],64)}}});const qa=Le(za,[["__scopeId","data-v-1315b823"]]);export{qa as default};
