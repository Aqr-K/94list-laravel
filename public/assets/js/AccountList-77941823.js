import{d as ce}from"./base-8da118dd.js";import{v as pe}from"./el-loading-04f8397e.js";import{E as de}from"./el-input-aab76947.js";import{i as ge}from"./el-popper-abfe5e73.js";import{E as fe,a as me}from"./el-select-ee9ac394.js";import{E as be,a as ve}from"./el-table-column-247ad034.js";import{E as _e}from"./el-button-c98be082.js";import{a as z,g as w,e as d,c as y,z as q,R as B,w as N,a5 as ne,u as a,E as Ce,r as M,G as X,b,F as Y,am as se,n as x,p as ee,T as he,i as G,af as Pe,I as ye,K as ke,aa as K,m as ze,o as Se,q as F,P as we}from"./index-5feb174a.js";import{u as Ne}from"./AccountManagement-e5ea3025.js";import{h as xe,i as Ee,j as $e}from"./admin-2e0e7f01.js";import{b as V,t as Q,C as W,f as oe,_ as J,d as ie,m as le,v as re,u as R,$ as Ae,a0 as ae,a1 as Te,n as U,g as Me,h as Be,w as Ie,E as H}from"./request-8bfac485.js";import{_ as Le}from"./_plugin-vue_export-helper-c27b6911.js";import"./use-form-item-c4555cb1.js";import"./isNil-c75b1b34.js";import"./_initCloneObject-584d905d.js";import"./focus-trap-9497ed29.js";import"./strings-c6c34404.js";import"./index-183e2613.js";import"./scroll-b2773a8f.js";import"./validator-5b18e654.js";import"./_commonjsHelpers-725317a4.js";const ue=Symbol("elPaginationKey"),qe=V({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Q}}),je={click:e=>e instanceof MouseEvent},Ke=["disabled","aria-label","aria-disabled"],De={key:0},Fe=z({name:"ElPaginationPrev"}),Ue=z({...Fe,props:qe,emits:je,setup(e){const l=e,{t:n}=W(),g=w(()=>l.disabled||l.currentPage<=1);return(r,u)=>(d(),y("button",{type:"button",class:"btn-prev",disabled:a(g),"aria-label":r.prevText||a(n)("el.pagination.prev"),"aria-disabled":a(g),onClick:u[0]||(u[0]=m=>r.$emit("click",m))},[r.prevText?(d(),y("span",De,q(r.prevText),1)):(d(),B(a(oe),{key:1},{default:N(()=>[(d(),B(ne(r.prevIcon)))]),_:1}))],8,Ke))}});var Ve=J(Ue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const We=V({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Q}}),Oe=["disabled","aria-label","aria-disabled"],Re={key:0},Je=z({name:"ElPaginationNext"}),He=z({...Je,props:We,emits:["click"],setup(e){const l=e,{t:n}=W(),g=w(()=>l.disabled||l.currentPage===l.pageCount||l.pageCount===0);return(r,u)=>(d(),y("button",{type:"button",class:"btn-next",disabled:a(g),"aria-label":r.nextText||a(n)("el.pagination.next"),"aria-disabled":a(g),onClick:u[0]||(u[0]=m=>r.$emit("click",m))},[r.nextText?(d(),y("span",Re,q(r.nextText),1)):(d(),B(a(oe),{key:1},{default:N(()=>[(d(),B(ne(r.nextIcon)))]),_:1}))],8,Oe))}});var Ge=J(He,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const Z=()=>Ce(ue,{}),Qe=V({pageSize:{type:Number,required:!0},pageSizes:{type:ie(Array),default:()=>le([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:re}}),Xe=z({name:"ElPaginationSizes"}),Ye=z({...Xe,props:Qe,emits:["page-size-change"],setup(e,{emit:l}){const n=e,{t:g}=W(),r=R("pagination"),u=Z(),m=M(n.pageSize);X(()=>n.pageSizes,(f,h)=>{if(!ge(f,h)&&Array.isArray(f)){const p=f.includes(n.pageSize)?n.pageSize:n.pageSizes[0];l("page-size-change",p)}}),X(()=>n.pageSize,f=>{m.value=f});const _=w(()=>n.pageSizes);function E(f){var h;f!==m.value&&(m.value=f,(h=u.handleSizeChange)==null||h.call(u,Number(f)))}return(f,h)=>(d(),y("span",{class:x(a(r).e("sizes"))},[b(a(me),{"model-value":m.value,disabled:f.disabled,"popper-class":f.popperClass,size:f.size,teleported:f.teleported,"validate-event":!1,onChange:E},{default:N(()=>[(d(!0),y(Y,null,se(a(_),p=>(d(),B(a(fe),{key:p,value:p,label:p+a(g)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var Ze=J(Ye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const ea=V({size:{type:String,values:re}}),aa=["disabled"],ta=z({name:"ElPaginationJumper"}),na=z({...ta,props:ea,setup(e){const{t:l}=W(),n=R("pagination"),{pageCount:g,disabled:r,currentPage:u,changeEvent:m}=Z(),_=M(),E=w(()=>{var p;return(p=_.value)!=null?p:u==null?void 0:u.value});function f(p){_.value=p?+p:""}function h(p){p=Math.trunc(+p),m==null||m(p),_.value=void 0}return(p,S)=>(d(),y("span",{class:x(a(n).e("jump")),disabled:a(r)},[ee("span",{class:x([a(n).e("goto")])},q(a(l)("el.pagination.goto")),3),b(a(de),{size:p.size,class:x([a(n).e("editor"),a(n).is("in-pagination")]),min:1,max:a(g),disabled:a(r),"model-value":a(E),"validate-event":!1,label:a(l)("el.pagination.page"),type:"number","onUpdate:modelValue":f,onChange:h},null,8,["size","class","max","disabled","model-value","label"]),ee("span",{class:x([a(n).e("classifier")])},q(a(l)("el.pagination.pageClassifier")),3)],10,aa))}});var sa=J(na,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const oa=V({total:{type:Number,default:1e3}}),ia=["disabled"],la=z({name:"ElPaginationTotal"}),ra=z({...la,props:oa,setup(e){const{t:l}=W(),n=R("pagination"),{disabled:g}=Z();return(r,u)=>(d(),y("span",{class:x(a(n).e("total")),disabled:a(g)},q(a(l)("el.pagination.total",{total:r.total})),11,ia))}});var ua=J(ra,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const ca=V({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),pa=["onKeyup"],da=["aria-current","aria-label","tabindex"],ga=["tabindex","aria-label"],fa=["aria-current","aria-label","tabindex"],ma=["tabindex","aria-label"],ba=["aria-current","aria-label","tabindex"],va=z({name:"ElPaginationPager"}),_a=z({...va,props:ca,emits:["change"],setup(e,{emit:l}){const n=e,g=R("pager"),r=R("icon"),{t:u}=W(),m=M(!1),_=M(!1),E=M(!1),f=M(!1),h=M(!1),p=M(!1),S=w(()=>{const t=n.pagerCount,s=(t-1)/2,o=Number(n.currentPage),T=Number(n.pageCount);let A=!1,I=!1;T>t&&(o>t-s&&(A=!0),o<T-s&&(I=!0));const L=[];if(A&&!I){const v=T-(t-2);for(let D=v;D<T;D++)L.push(D)}else if(!A&&I)for(let v=2;v<t;v++)L.push(v);else if(A&&I){const v=Math.floor(t/2)-1;for(let D=o-v;D<=o+v;D++)L.push(D)}else for(let v=2;v<T;v++)L.push(v);return L}),i=w(()=>["more","btn-quickprev",r.b(),g.is("disabled",n.disabled)]),$=w(()=>["more","btn-quicknext",r.b(),g.is("disabled",n.disabled)]),P=w(()=>n.disabled?-1:0);he(()=>{const t=(n.pagerCount-1)/2;m.value=!1,_.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-t&&(m.value=!0),n.currentPage<n.pageCount-t&&(_.value=!0))});function C(t=!1){n.disabled||(t?E.value=!0:f.value=!0)}function O(t=!1){t?h.value=!0:p.value=!0}function j(t){const s=t.target;if(s.tagName.toLowerCase()==="li"&&Array.from(s.classList).includes("number")){const o=Number(s.textContent);o!==n.currentPage&&l("change",o)}else s.tagName.toLowerCase()==="li"&&Array.from(s.classList).includes("more")&&c(t)}function c(t){const s=t.target;if(s.tagName.toLowerCase()==="ul"||n.disabled)return;let o=Number(s.textContent);const T=n.pageCount,A=n.currentPage,I=n.pagerCount-2;s.className.includes("more")&&(s.className.includes("quickprev")?o=A-I:s.className.includes("quicknext")&&(o=A+I)),Number.isNaN(+o)||(o<1&&(o=1),o>T&&(o=T)),o!==A&&l("change",o)}return(t,s)=>(d(),y("ul",{class:x(a(g).b()),onClick:c,onKeyup:Pe(j,["enter"])},[t.pageCount>0?(d(),y("li",{key:0,class:x([[a(g).is("active",t.currentPage===1),a(g).is("disabled",t.disabled)],"number"]),"aria-current":t.currentPage===1,"aria-label":a(u)("el.pagination.currentPage",{pager:1}),tabindex:a(P)}," 1 ",10,da)):G("v-if",!0),m.value?(d(),y("li",{key:1,class:x(a(i)),tabindex:a(P),"aria-label":a(u)("el.pagination.prevPages",{pager:t.pagerCount-2}),onMouseenter:s[0]||(s[0]=o=>C(!0)),onMouseleave:s[1]||(s[1]=o=>E.value=!1),onFocus:s[2]||(s[2]=o=>O(!0)),onBlur:s[3]||(s[3]=o=>h.value=!1)},[(E.value||h.value)&&!t.disabled?(d(),B(a(Ae),{key:0})):(d(),B(a(ae),{key:1}))],42,ga)):G("v-if",!0),(d(!0),y(Y,null,se(a(S),o=>(d(),y("li",{key:o,class:x([[a(g).is("active",t.currentPage===o),a(g).is("disabled",t.disabled)],"number"]),"aria-current":t.currentPage===o,"aria-label":a(u)("el.pagination.currentPage",{pager:o}),tabindex:a(P)},q(o),11,fa))),128)),_.value?(d(),y("li",{key:2,class:x(a($)),tabindex:a(P),"aria-label":a(u)("el.pagination.nextPages",{pager:t.pagerCount-2}),onMouseenter:s[4]||(s[4]=o=>C()),onMouseleave:s[5]||(s[5]=o=>f.value=!1),onFocus:s[6]||(s[6]=o=>O()),onBlur:s[7]||(s[7]=o=>p.value=!1)},[(f.value||p.value)&&!t.disabled?(d(),B(a(Te),{key:0})):(d(),B(a(ae),{key:1}))],42,ma)):G("v-if",!0),t.pageCount>1?(d(),y("li",{key:3,class:x([[a(g).is("active",t.currentPage===t.pageCount),a(g).is("disabled",t.disabled)],"number"]),"aria-current":t.currentPage===t.pageCount,"aria-label":a(u)("el.pagination.currentPage",{pager:t.pageCount}),tabindex:a(P)},q(t.pageCount),11,ba)):G("v-if",!0)],42,pa))}});var Ca=J(_a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const k=e=>typeof e!="number",ha=V({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>U(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:ie(Array),default:()=>le([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Q,default:()=>Me},nextText:{type:String,default:""},nextIcon:{type:Q,default:()=>Be},teleported:{type:Boolean,default:!0},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),Pa={"update:current-page":e=>U(e),"update:page-size":e=>U(e),"size-change":e=>U(e),"current-change":e=>U(e),"prev-click":e=>U(e),"next-click":e=>U(e)},te="ElPagination";var ya=z({name:te,props:ha,emits:Pa,setup(e,{emit:l,slots:n}){const{t:g}=W(),r=R("pagination"),u=ye().vnode.props||{},m="onUpdate:currentPage"in u||"onUpdate:current-page"in u||"onCurrentChange"in u,_="onUpdate:pageSize"in u||"onUpdate:page-size"in u||"onSizeChange"in u,E=w(()=>{if(k(e.total)&&k(e.pageCount)||!k(e.currentPage)&&!m)return!1;if(e.layout.includes("sizes")){if(k(e.pageCount)){if(!k(e.total)&&!k(e.pageSize)&&!_)return!1}else if(!_)return!1}return!0}),f=M(k(e.defaultPageSize)?10:e.defaultPageSize),h=M(k(e.defaultCurrentPage)?1:e.defaultCurrentPage),p=w({get(){return k(e.pageSize)?f.value:e.pageSize},set(c){k(e.pageSize)&&(f.value=c),_&&(l("update:page-size",c),l("size-change",c))}}),S=w(()=>{let c=0;return k(e.pageCount)?k(e.total)||(c=Math.max(1,Math.ceil(e.total/p.value))):c=e.pageCount,c}),i=w({get(){return k(e.currentPage)?h.value:e.currentPage},set(c){let t=c;c<1?t=1:c>S.value&&(t=S.value),k(e.currentPage)&&(h.value=t),m&&(l("update:current-page",t),l("current-change",t))}});X(S,c=>{i.value>c&&(i.value=c)});function $(c){i.value=c}function P(c){p.value=c;const t=S.value;i.value>t&&(i.value=t)}function C(){e.disabled||(i.value-=1,l("prev-click",i.value))}function O(){e.disabled||(i.value+=1,l("next-click",i.value))}function j(c,t){c&&(c.props||(c.props={}),c.props.class=[c.props.class,t].join(" "))}return ke(ue,{pageCount:S,disabled:w(()=>e.disabled),currentPage:i,changeEvent:$,handleSizeChange:P}),()=>{var c,t;if(!E.value)return ce(te,g("el.pagination.deprecationWarning")),null;if(!e.layout||e.hideOnSinglePage&&S.value<=1)return null;const s=[],o=[],T=K("div",{class:r.e("rightwrapper")},o),A={prev:K(Ve,{disabled:e.disabled,currentPage:i.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:C}),jumper:K(sa,{size:e.small?"small":"default"}),pager:K(Ca,{currentPage:i.value,pageCount:S.value,pagerCount:e.pagerCount,onChange:$,disabled:e.disabled}),next:K(Ge,{disabled:e.disabled,currentPage:i.value,pageCount:S.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:O}),sizes:K(Ze,{pageSize:p.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,teleported:e.teleported,size:e.small?"small":"default"}),slot:(t=(c=n==null?void 0:n.default)==null?void 0:c.call(n))!=null?t:null,total:K(ua,{total:k(e.total)?0:e.total})},I=e.layout.split(",").map(v=>v.trim());let L=!1;return I.forEach(v=>{if(v==="->"){L=!0;return}L?o.push(A[v]):s.push(A[v])}),j(s[0],r.is("first")),j(s[s.length-1],r.is("last")),L&&o.length>0&&(j(o[0],r.is("first")),j(o[o.length-1],r.is("last")),s.push(T)),K("div",{class:[r.b(),r.is("background",e.background),{[r.m("small")]:e.small}]},s)}}});const ka=Ie(ya);const za=z({__name:"AccountList",setup(e){const l=Ne(),{currentPage:n,pageSize:g,accountList:r,accountLoading:u,selectAccounts:m}=ze(l),_=async(i,$)=>{u.value=!0;const P=await xe({account_id:i})??"failed";u.value=!1,P.toString()!=="failed"&&(await l.getAccounts(),H.success(`成功${$===0?"启用":"禁用"}`))},E=async i=>{u.value=!0;const $=await Ee({account_id:i})??"failed";u.value=!1,$.toString()!=="failed"&&(await l.getAccounts(),H.success("更新账户信息成功"))},f=async i=>{u.value=!0;const $=await $e({account_id:i})??"failed";u.value=!1,$.toString()!=="failed"&&(await l.getAccounts(),H.success("删除账户成功"))},h=i=>m.value=i,p=()=>{m.value.forEach(i=>{if(i.switch===1)return H.info(`编号:${i.id},已经启用了`);_(i.id,i.switch)})},S=()=>{m.value.forEach(i=>{if(i.switch===0)return H.info(`编号:${i.id},已经禁用了`);_(i.id,i.switch)})};return Se(l.getAccounts),(i,$)=>{const P=_e,C=be,O=ve,j=ka,c=pe;return d(),y(Y,null,[b(P,{type:"primary",onClick:a(l).openAddDialog},{default:N(()=>[F(" 添加代理账号 ")]),_:1},8,["onClick"]),b(P,{type:"primary",disabled:a(m).length<=0,onClick:p},{default:N(()=>[F(" 批量启用 ")]),_:1},8,["disabled"]),b(P,{type:"primary",disabled:a(m).length<=0,onClick:S},{default:N(()=>[F(" 批量禁用 ")]),_:1},8,["disabled"]),we((d(),B(O,{data:a(r).data,border:"","show-overflow-tooltip":"",class:"table",onSelectionChange:h},{default:N(()=>[b(C,{type:"selection",width:"40"}),b(C,{prop:"id",label:"编号"}),b(C,{prop:"baidu_name",label:"百度用户名"}),b(C,{prop:"netdisk_name",label:"网盘用户名"}),b(C,{prop:"state",label:"状态"}),b(C,{prop:"add_time",label:"添加时间"}),b(C,{prop:"svip_end_time",label:"SVIP到期时间"}),b(C,{prop:"use",label:"最后有效时间"}),b(C,{prop:"vip_type",label:"会员类型"}),b(C,{prop:"cookie",label:"cookie值"}),b(C,{prop:"switch",label:"是否启用"},{default:N(t=>[F(q(t.row.switch===0?"禁用":"启用"),1)]),_:1}),b(C,{label:"操作",width:"220"},{default:N(t=>[b(P,{size:"small",type:"primary",onClick:s=>E(t.row.id)},{default:N(()=>[F(" 更新信息 ")]),_:2},1032,["onClick"]),b(P,{size:"small",type:t.row.switch===0?"success":"info",onClick:s=>_(t.row.id,t.row.switch)},{default:N(()=>[F(q(t.row.switch===0?"启用":"禁用"),1)]),_:2},1032,["type","onClick"]),b(P,{size:"small",type:"danger",onClick:s=>f(t.row.id)},{default:N(()=>[F(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[c,a(u)]]),b(j,{"current-page":a(n),"page-size":a(g),total:a(r).total,"hide-on-single-page":"",onCurrentChange:a(l).getAccounts},null,8,["current-page","page-size","total","onCurrentChange"])],64)}}});const Ra=Le(za,[["__scopeId","data-v-b86da9cd"]]);export{Ra as default};
