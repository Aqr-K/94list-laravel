import{b as u,K as D,r as m,w as L,u as s,e as F,c as Z,m as n,k as A,q as B,s as g,t as c,N as M,O as U,P as x,p as N,v as T,Q as y,S as v}from"./.pnpm-iATkil5N.js";import"./index-ctO0osHI.js";import{u as J}from"./fileListStore-CTfzH0o3.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V="data:image/png;base64,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",Y="/assets/png/unknownfile-BBXNi05M.png",j=e=>new Date(e*1e3).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}),q=(e,o=2)=>{if(typeof e=="string"&&(e=parseFloat(e)),e===0)return"0 Bytes";const a=1024,Q=["Bytes","KB","MB","GB","TB"],E=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,E)).toFixed(o))+" "+Q[E]},C=()=>/Mobi|Android|iPhone/i.test(navigator.userAgent),G=e=>(y("data-v-922edd38"),e=e(),v(),e),P=G(()=>B("h2",null,"文件列表",-1)),_=["src"],K=u({__name:"ShowFileList",setup(e){const o=J(),{pending:a,fileList:Q,selectedRows:E,getFileListForm:r}=D(o),d=m(null),S=t=>E.value=t,I=async t=>{r.value.dir=t,await o.getFileList()},h=async t=>{if(C())try{a.value=!0,t.isdir===1?await I(t.path):await o.getDownloadLinks(t.fs_id)}finally{a.value=!1}},k=async t=>{if(!C())try{a.value=!0,t.isdir===1?await I(t.path):await o.getDownloadLinks(t.fs_id)}finally{a.value=!1}};return(t,W)=>{const l=M,R=U,f=x,w=N,p=T;return L((F(),Z(w,{class:"card"},{default:n(()=>[P,A(f,{border:"",stripe:"",ref_key:"fileListTableRef",ref:d,data:s(Q).list,onRowClick:h,onRowDblclick:k,onSelectionChange:S,class:"table"},{default:n(()=>[A(l,{type:"selection",width:"40"}),A(l,{label:"文件名"},{default:n(({row:i})=>[A(R,{wrap:""},{default:n(()=>[B("img",{src:i.isdir===1?s(V):s(Y)},null,8,_),g(" "+c(i.server_filename),1)]),_:2},1024)]),_:1}),A(l,{label:"修改时间"},{default:n(({row:i})=>[g(c(s(j)(i.server_mtime)),1)]),_:1}),A(l,{label:"大小"},{default:n(({row:i})=>[g(c(s(q)(i.size)),1)]),_:1})]),_:1},8,["data"])]),_:1})),[[p,s(a)]])}}}),$=O(K,[["__scopeId","data-v-922edd38"]]);export{$ as default};
